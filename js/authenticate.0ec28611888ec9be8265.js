webpackJsonp([10],{Ju2Y:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0}),exports.Authorization=void 0;var _getPrototypeOf=__webpack_require__("Zx67"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("Zrlr"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("wxAW"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("zwoO"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("Pf15"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("GiK3"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("KSGD"),_propTypes2=_interopRequireDefault(_propTypes),_reactRedux=__webpack_require__("RH2O"),_history=__webpack_require__("9HTR"),_history2=_interopRequireDefault(_history),_jsBase=__webpack_require__("xrTZ"),_authorization=__webpack_require__("TF37"),_Loading=__webpack_require__("WtOT"),_Loading2=_interopRequireDefault(_Loading),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule=__webpack_require__("rGbO").enterModule,enterModule&&enterModule(module);var Authorization=exports.Authorization=function(_Component){function Authorization(e){return(0,_classCallCheck3.default)(this,Authorization),(0,_possibleConstructorReturn3.default)(this,(Authorization.__proto__||(0,_getPrototypeOf2.default)(Authorization)).call(this,e))}return(0,_inherits3.default)(Authorization,_Component),(0,_createClass3.default)(Authorization,[{key:"componentWillMount",value:function(){var e=this,t=new URLSearchParams(this.props.location.search),r=t.get("hash").split("title="),o=r[0],a=r[1],i=t.get("code");if(o&&i&&a)this.props.postAuth(i).then(function(){var t=new URLSearchParams(e.props.authorizationStore.message).get("access_token");if(t){e._saveToken(t);var r={pathname:"/reveal/"+o+"/"+decodeURIComponent(_jsBase.Base64.decode(a))};_history2.default.push(r)}else{_history2.default.push({pathname:"/404"})}});else{_history2.default.push({pathname:"/404"})}}},{key:"_saveToken",value:function(e){localStorage.setItem("GT_ACCESS_TOKEN",e)}},{key:"render",value:function(){var e=this.props.authorizationStore,t=(e.message,e.isLoading),r=e.errorMsg;return _react2.default.createElement("div",null,t?_react2.default.createElement(_Loading2.default,null):r||"success")}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Authorization}(_react.Component);Authorization.propTypes={};var mapStateToProps=function(e){return{authorizationStore:e.authorizationStore}},mapDispatchToProps={postAuth:_authorization.postAuth},_default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Authorization),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader=__webpack_require__("rGbO").default,leaveModule=__webpack_require__("rGbO").leaveModule,reactHotLoader&&(reactHotLoader.register(Authorization,"Authorization","/Users/caoqiang/Desktop/workspace/photonalpha.github.io/Portal/src/containers/Authorization/Authorization.js"),reactHotLoader.register(mapStateToProps,"mapStateToProps","/Users/caoqiang/Desktop/workspace/photonalpha.github.io/Portal/src/containers/Authorization/Authorization.js"),reactHotLoader.register(mapDispatchToProps,"mapDispatchToProps","/Users/caoqiang/Desktop/workspace/photonalpha.github.io/Portal/src/containers/Authorization/Authorization.js"),reactHotLoader.register(_default,"default","/Users/caoqiang/Desktop/workspace/photonalpha.github.io/Portal/src/containers/Authorization/Authorization.js"),leaveModule(module))}).call(exports,__webpack_require__("3IRH")(module))}});